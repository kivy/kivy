include "common.pxi"

cdef extern from "SDL.h":
    void *SDL_GL_GetProcAddress(const char*)

cdef GLES2_Context g_ctx
cdef GLES2_Context *cgl = &g_ctx

cdef void *gl_get_proc_address(char* name):
    # leave it like that in case one day we supports others methods
    return SDL_GL_GetProcAddress(name)


cdef void gl_dyn_load_context():
    g_ctx.glActiveTexture = <GLACTIVETEXTUREPTR>gl_get_proc_address("glActiveTexture")
    g_ctx.glAttachShader = <GLATTACHSHADERPTR>gl_get_proc_address("glAttachShader")
    g_ctx.glBindAttribLocation = <GLBINDATTRIBLOCATIONPTR>gl_get_proc_address("glBindAttribLocation")
    g_ctx.glBindTexture = <GLBINDTEXTUREPTR>gl_get_proc_address("glBindTexture")
    g_ctx.glBlendFuncSeparate = <GLBLENDFUNCSEPARATEPTR>gl_get_proc_address("glBlendFuncSeparate")
    g_ctx.glClear = <GLCLEARPTR>gl_get_proc_address("glClear")
    g_ctx.glClearColor = <GLCLEARCOLORPTR>gl_get_proc_address("glClearColor")
    g_ctx.glCompileShader = <GLCOMPILESHADERPTR>gl_get_proc_address("glCompileShader")
    g_ctx.glCreateProgram = <GLCREATEPROGRAMPTR>gl_get_proc_address("glCreateProgram")
    g_ctx.glCreateShader = <GLCREATESHADERPTR>gl_get_proc_address("glCreateShader")
    g_ctx.glDeleteProgram = <GLDELETEPROGRAMPTR>gl_get_proc_address("glDeleteProgram")
    g_ctx.glDeleteShader = <GLDELETESHADERPTR>gl_get_proc_address("glDeleteShader")
    g_ctx.glDeleteTextures = <GLDELETETEXTURESPTR>gl_get_proc_address("glDeleteTextures")
    g_ctx.glDisable = <GLDISABLEPTR>gl_get_proc_address("glDisable")
    g_ctx.glDisableVertexAttribArray = <GLDISABLEVERTEXATTRIBARRAYPTR>gl_get_proc_address("glDisableVertexAttribArray")
    g_ctx.glDrawArrays = <GLDRAWARRAYSPTR>gl_get_proc_address("glDrawArrays")
    g_ctx.glEnable = <GLENABLEPTR>gl_get_proc_address("glEnable")
    g_ctx.glEnableVertexAttribArray = <GLENABLEVERTEXATTRIBARRAYPTR>gl_get_proc_address("glEnableVertexAttribArray")
    g_ctx.glFinish = <GLFINISHPTR>gl_get_proc_address("glFinish")
    g_ctx.glGenFramebuffers = <GLGENFRAMEBUFFERSPTR>gl_get_proc_address("glGenFramebuffers")
    g_ctx.glGenTextures = <GLGENTEXTURESPTR>gl_get_proc_address("glGenTextures")
    g_ctx.glGetBooleanv = <GLGETBOOLEANVPTR>gl_get_proc_address("glGetBooleanv")
    g_ctx.glGetString = <GLGETSTRINGPTR>gl_get_proc_address("glGetString")
    g_ctx.glGetError = <GLGETERRORPTR>gl_get_proc_address("glGetError")
    g_ctx.glGetIntegerv = <GLGETINTEGERVPTR>gl_get_proc_address("glGetIntegerv")
    g_ctx.glGetProgramiv = <GLGETPROGRAMIVPTR>gl_get_proc_address("glGetProgramiv")
    g_ctx.glGetShaderInfoLog = <GLGETSHADERINFOLOGPTR>gl_get_proc_address("glGetShaderInfoLog")
    g_ctx.glGetShaderiv = <GLGETSHADERIVPTR>gl_get_proc_address("glGetShaderiv")
    g_ctx.glGetUniformLocation = <GLGETUNIFORMLOCATIONPTR>gl_get_proc_address("glGetUniformLocation")
    g_ctx.glLinkProgram = <GLLINKPROGRAMPTR>gl_get_proc_address("glLinkProgram")
    g_ctx.glPixelStorei = <GLPIXELSTOREIPTR>gl_get_proc_address("glPixelStorei")
    g_ctx.glReadPixels = <GLREADPIXELSPTR>gl_get_proc_address("glReadPixels")
    g_ctx.glScissor = <GLSCISSORPTR>gl_get_proc_address("glScissor")
    g_ctx.glShaderBinary = <GLSHADERBINARYPTR>gl_get_proc_address("glShaderBinary")
    g_ctx.glShaderSource = <GLSHADERSOURCEPTR>gl_get_proc_address("glShaderSource")
    g_ctx.glTexImage2D = <GLTEXIMAGE2DPTR>gl_get_proc_address("glTexImage2D")
    g_ctx.glTexParameteri = <GLTEXPARAMETERIPTR>gl_get_proc_address("glTexParameteri")
    g_ctx.glTexSubImage2D = <GLTEXSUBIMAGE2DPTR>gl_get_proc_address("glTexSubImage2D")
    g_ctx.glUniform1i = <GLUNIFORM1IPTR>gl_get_proc_address("glUniform1i")
    g_ctx.glUniform4f = <GLUNIFORM4FPTR>gl_get_proc_address("glUniform4f")
    g_ctx.glUniformMatrix4fv = <GLUNIFORMMATRIX4FVPTR>gl_get_proc_address("glUniformMatrix4fv")
    g_ctx.glUseProgram = <GLUSEPROGRAMPTR>gl_get_proc_address("glUseProgram")
    g_ctx.glVertexAttribPointer = <GLVERTEXATTRIBPOINTERPTR>gl_get_proc_address("glVertexAttribPointer")
    g_ctx.glViewport = <GLVIEWPORTPTR>gl_get_proc_address("glViewport")
    g_ctx.glBindFramebuffer = <GLBINDFRAMEBUFFERPTR>gl_get_proc_address("glBindFramebuffer")
    g_ctx.glFramebufferTexture2D = <GLFRAMEBUFFERTEXTURE2DPTR>gl_get_proc_address("glFramebufferTexture2D")
    g_ctx.glCheckFramebufferStatus = <GLCHECKFRAMEBUFFERSTATUSPTR>gl_get_proc_address("glCheckFramebufferStatus")
    g_ctx.glDeleteFramebuffers = <GLDELETEFRAMEBUFFERSPTR>gl_get_proc_address("glDeleteFramebuffers")
    g_ctx.glGetAttribLocation = <GLGETATTRIBLOCATIONPTR>gl_get_proc_address("glGetAttribLocation")
    g_ctx.glGetProgramInfoLog = <GLGETPROGRAMINFOLOGPTR>gl_get_proc_address("glGetProgramInfoLog")
    g_ctx.glGenBuffers = <GLGENBUFFERSPTR>gl_get_proc_address("glGenBuffers")
    g_ctx.glBindBuffer = <GLBINDBUFFERPTR>gl_get_proc_address("glBindBuffer")
    g_ctx.glBufferData = <GLBUFFERDATAPTR>gl_get_proc_address("glBufferData")
    g_ctx.glBufferSubData = <GLBUFFERSUBDATAPTR>gl_get_proc_address("glBufferSubData")
    g_ctx.glBindRenderbuffer = <GLBINDRENDERBUFFERPTR>gl_get_proc_address("glBindRenderbuffer")
    g_ctx.glBlendColor = <GLBLENDCOLORPTR>gl_get_proc_address("glBlendColor")
    g_ctx.glBlendEquation = <GLBLENDEQUATIONPTR>gl_get_proc_address("glBlendEquation")
    g_ctx.glBlendEquationSeparate = <GLBLENDEQUATIONSEPARATEPTR>gl_get_proc_address("glBlendEquationSeparate")
    g_ctx.glBlendFunc = <GLBLENDFUNCPTR>gl_get_proc_address("glBlendFunc")
    g_ctx.glClearStencil = <GLCLEARSTENCILPTR>gl_get_proc_address("glClearStencil")
    g_ctx.glColorMask = <GLCOLORMASKPTR>gl_get_proc_address("glColorMask")
    g_ctx.glCompressedTexImage2D = <GLCOMPRESSEDTEXIMAGE2DPTR>gl_get_proc_address("glCompressedTexImage2D")
    g_ctx.glCompressedTexSubImage2D = <GLCOMPRESSEDTEXSUBIMAGE2DPTR>gl_get_proc_address("glCompressedTexSubImage2D")
    g_ctx.glCopyTexImage2D = <GLCOPYTEXIMAGE2DPTR>gl_get_proc_address("glCopyTexImage2D")
    g_ctx.glCopyTexSubImage2D = <GLCOPYTEXSUBIMAGE2DPTR>gl_get_proc_address("glCopyTexSubImage2D")
    g_ctx.glCullFace = <GLCULLFACEPTR>gl_get_proc_address("glCullFace")
    g_ctx.glDeleteBuffers = <GLDELETEBUFFERSPTR>gl_get_proc_address("glDeleteBuffers")
    g_ctx.glDeleteRenderbuffers = <GLDELETERENDERBUFFERSPTR>gl_get_proc_address("glDeleteRenderbuffers")
    g_ctx.glDepthFunc = <GLDEPTHFUNCPTR>gl_get_proc_address("glDepthFunc")
    g_ctx.glDepthMask = <GLDEPTHMASKPTR>gl_get_proc_address("glDepthMask")
    g_ctx.glDetachShader = <GLDETACHSHADERPTR>gl_get_proc_address("glDetachShader")
    g_ctx.glDrawElements = <GLDRAWELEMENTSPTR>gl_get_proc_address("glDrawElements")
    g_ctx.glFlush = <GLFLUSHPTR>gl_get_proc_address("glFlush")
    g_ctx.glFramebufferRenderbuffer = <GLFRAMEBUFFERRENDERBUFFERPTR>gl_get_proc_address("glFramebufferRenderbuffer")
    g_ctx.glFrontFace = <GLFRONTFACEPTR>gl_get_proc_address("glFrontFace")
    g_ctx.glGenerateMipmap = <GLGENERATEMIPMAPPTR>gl_get_proc_address("glGenerateMipmap")
    g_ctx.glGenRenderbuffers = <GLGENRENDERBUFFERSPTR>gl_get_proc_address("glGenRenderbuffers")
    g_ctx.glGetActiveAttrib = <GLGETACTIVEATTRIBPTR>gl_get_proc_address("glGetActiveAttrib")
    g_ctx.glGetActiveUniform = <GLGETACTIVEUNIFORMPTR>gl_get_proc_address("glGetActiveUniform")
    g_ctx.glGetAttachedShaders = <GLGETATTACHEDSHADERSPTR>gl_get_proc_address("glGetAttachedShaders")
    g_ctx.glGetBufferParameteriv = <GLGETBUFFERPARAMETERIVPTR>gl_get_proc_address("glGetBufferParameteriv")
    g_ctx.glGetFloatv = <GLGETFLOATVPTR>gl_get_proc_address("glGetFloatv")
    g_ctx.glGetFramebufferAttachmentParameteriv = <GLGETFRAMEBUFFERATTACHMENTPARAMETERIVPTR>gl_get_proc_address("glGetFramebufferAttachmentParameteriv")
    g_ctx.glGetRenderbufferParameteriv = <GLGETRENDERBUFFERPARAMETERIVPTR>gl_get_proc_address("glGetRenderbufferParameteriv")
    g_ctx.glGetShaderSource = <GLGETSHADERSOURCEPTR>gl_get_proc_address("glGetShaderSource")
    g_ctx.glGetTexParameterfv = <GLGETTEXPARAMETERFVPTR>gl_get_proc_address("glGetTexParameterfv")
    g_ctx.glGetTexParameteriv = <GLGETTEXPARAMETERIVPTR>gl_get_proc_address("glGetTexParameteriv")
    g_ctx.glGetUniformfv = <GLGETUNIFORMFVPTR>gl_get_proc_address("glGetUniformfv")
    g_ctx.glGetUniformiv = <GLGETUNIFORMIVPTR>gl_get_proc_address("glGetUniformiv")
    g_ctx.glGetVertexAttribfv = <GLGETVERTEXATTRIBFVPTR>gl_get_proc_address("glGetVertexAttribfv")
    g_ctx.glGetVertexAttribiv = <GLGETVERTEXATTRIBIVPTR>gl_get_proc_address("glGetVertexAttribiv")
    g_ctx.glHint = <GLHINTPTR>gl_get_proc_address("glHint")
    g_ctx.glIsBuffer = <GLISBUFFERPTR>gl_get_proc_address("glIsBuffer")
    g_ctx.glIsEnabled = <GLISENABLEDPTR>gl_get_proc_address("glIsEnabled")
    g_ctx.glIsFramebuffer = <GLISFRAMEBUFFERPTR>gl_get_proc_address("glIsFramebuffer")
    g_ctx.glIsProgram = <GLISPROGRAMPTR>gl_get_proc_address("glIsProgram")
    g_ctx.glIsRenderbuffer = <GLISRENDERBUFFERPTR>gl_get_proc_address("glIsRenderbuffer")
    g_ctx.glIsShader = <GLISSHADERPTR>gl_get_proc_address("glIsShader")
    g_ctx.glIsTexture = <GLISTEXTUREPTR>gl_get_proc_address("glIsTexture")
    g_ctx.glLineWidth = <GLLINEWIDTHPTR>gl_get_proc_address("glLineWidth")
    g_ctx.glPolygonOffset = <GLPOLYGONOFFSETPTR>gl_get_proc_address("glPolygonOffset")
    g_ctx.glRenderbufferStorage = <GLRENDERBUFFERSTORAGEPTR>gl_get_proc_address("glRenderbufferStorage")
    g_ctx.glSampleCoverage = <GLSAMPLECOVERAGEPTR>gl_get_proc_address("glSampleCoverage")
    g_ctx.glStencilFunc = <GLSTENCILFUNCPTR>gl_get_proc_address("glStencilFunc")
    g_ctx.glStencilFuncSeparate = <GLSTENCILFUNCSEPARATEPTR>gl_get_proc_address("glStencilFuncSeparate")
    g_ctx.glStencilMask = <GLSTENCILMASKPTR>gl_get_proc_address("glStencilMask")
    g_ctx.glStencilMaskSeparate = <GLSTENCILMASKSEPARATEPTR>gl_get_proc_address("glStencilMaskSeparate")
    g_ctx.glStencilOp = <GLSTENCILOPPTR>gl_get_proc_address("glStencilOp")
    g_ctx.glStencilOpSeparate = <GLSTENCILOPSEPARATEPTR>gl_get_proc_address("glStencilOpSeparate")
    g_ctx.glTexParameterf = <GLTEXPARAMETERFPTR>gl_get_proc_address("glTexParameterf")
    g_ctx.glUniform1f = <GLUNIFORM1FPTR>gl_get_proc_address("glUniform1f")
    g_ctx.glUniform2f = <GLUNIFORM2FPTR>gl_get_proc_address("glUniform2f")
    g_ctx.glUniform2i = <GLUNIFORM2IPTR>gl_get_proc_address("glUniform2i")
    g_ctx.glUniform3f = <GLUNIFORM3FPTR>gl_get_proc_address("glUniform3f")
    g_ctx.glUniform3i = <GLUNIFORM3IPTR>gl_get_proc_address("glUniform3i")
    g_ctx.glUniform4i = <GLUNIFORM4IPTR>gl_get_proc_address("glUniform4i")
    g_ctx.glValidateProgram = <GLVALIDATEPROGRAMPTR>gl_get_proc_address("glValidateProgram")
    g_ctx.glVertexAttrib1f = <GLVERTEXATTRIB1FPTR>gl_get_proc_address("glVertexAttrib1f")
    g_ctx.glVertexAttrib2f = <GLVERTEXATTRIB2FPTR>gl_get_proc_address("glVertexAttrib2f")
    g_ctx.glVertexAttrib3f = <GLVERTEXATTRIB3FPTR>gl_get_proc_address("glVertexAttrib3f")
    g_ctx.glVertexAttrib4f = <GLVERTEXATTRIB4FPTR>gl_get_proc_address("glVertexAttrib4f")
    g_ctx.glUniform1fv = <GLUNIFORM1FVPTR>gl_get_proc_address("glUniform1fv")
    g_ctx.glUniform1iv = <GLUNIFORM1IVPTR>gl_get_proc_address("glUniform1iv")
    g_ctx.glUniform2fv = <GLUNIFORM2FVPTR>gl_get_proc_address("glUniform2fv")
    g_ctx.glUniform2iv = <GLUNIFORM2IVPTR>gl_get_proc_address("glUniform2iv")
    g_ctx.glUniform3fv = <GLUNIFORM3FVPTR>gl_get_proc_address("glUniform3fv")
    g_ctx.glUniform3iv = <GLUNIFORM3IVPTR>gl_get_proc_address("glUniform3iv")
    g_ctx.glUniform4fv = <GLUNIFORM4FVPTR>gl_get_proc_address("glUniform4fv")
    g_ctx.glUniform4iv = <GLUNIFORM4IVPTR>gl_get_proc_address("glUniform4iv")
